{"version":3,"sources":["webpack:///webpack/bootstrap 1c3aa9ba61bb6ed67366","webpack:///./server/config/constants.js","webpack:///external \"path\"","webpack:///external \"webpack\"","webpack:///./server/routes/policies/ensureAuthenticated.js","webpack:///./server/index.js","webpack:///external \"express\"","webpack:///external \"passport\"","webpack:///external \"body-parser\"","webpack:///external \"source-map-support\"","webpack:///./server/config/webpack-dev.js","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///./webpack.config.babel.js","webpack:///./webpack.browser.js","webpack:///external \"extract-text-webpack-plugin\"","webpack:///./webpack.server.js","webpack:///external \"webpack-node-externals\"","webpack:///external \"webpack-merge\"","webpack:///./server/models/index.js","webpack:///./server/models/user.js","webpack:///external \"bluebird\"","webpack:///external \"mongoose\"","webpack:///./server/config/sessions-security.js","webpack:///external \"express-session\"","webpack:///external \"connect-mongo\"","webpack:///external \"helmet\"","webpack:///./server/config/passport-github.js","webpack:///external \"passport-github\"","webpack:///./server/routes/index.js","webpack:///./server/routes/login.js","webpack:///./server/routes/logout.js","webpack:///./server/routes/home.js","webpack:///./server/routes/profile.js","webpack:///./server/routes/api/index.js","webpack:///./server/routes/404.js","webpack:///./server/config/views.js"],"names":["CONSTANTS","CACHE_VERSION","DB","MONGO_URI","process","env","MONGODB_URI","SESSION_COLLECTION_NAME","EXPRESS","SESSION_NAME","EXPRESS_SESSION_NAME","SESSION_SECRET","EXPRESS_SESSION_SECRET","METHODS","GET","POST","PUT","DEL","ROUTES","API","HOME","LOGIN","LOGOUT","PROFILE","GITHUB_PASSPORT_AUTH_PATH","GITHUB_CALLBACK_PATH","GITHUB_CALLBACK_URL","SERVER","ENV","NODE_ENV","ENV_PRODUCTION","ENV_DEVELOPMENT","PORT","PUBLIC_FOLDER_NAME","TRUST_PROXY","GITHUB","API_URL","GITHUB_API_URL","CLIENT_ID","GITHUB_CLIENT_ID","CLIENT_SECRET","GITHUB_CLIENT_SECRET","PASSPORT_AUTH_NAME","ESTIMATE","HISTORY","PRODUCTS","REQUESTS","REQUESTS_CURRENT","SANDBOX_REQUESTS","ROUTE_STATUS","ACCEPTED","ARRIVING","IN_PROGRESS","COMPLETED","SCOPE","VIEWS","PUG","VIEW_ENGINE","WEBPACK","HOT_MIDDLEWARE_CLIENT","module","exports","request","response","next","isAuthenticated","redirect","require","install","app","use","urlencoded","extended","json","static","join","__dirname","listen","Number","console","log","webpackDevMiddleware","webpack","entry","webpackDevOptions","contentBase","watchContentBase","inline","publicPath","historyApiFallback","watch","unshift","plugins","push","HotModuleReplacementPlugin","webpackCompiler","webpackConfigArray","baseConfig","rules","test","exclude","loader","options","presets","devtool","forEach","configObject","i","smart","browserConfig","extractSass","filename","COMPRESS","optimize","UglifyJsPlugin","extract","fallback","resolve","extensions","output","path","target","node","__filename","DefinePlugin","__CACHE__VERSION__","Date","getTime","externals","mongoose","Promise","connect","useMongoClient","models","User","model","email","String","passport","sessionStore","MongoSessionStore","mongooseConnection","connection","expressSessionOptions","secret","name","resave","store","saveUninitialized","expiryDate","now","set","cookie","secure","expires","initialize","session","serializeUser","user","done","deserializeUser","clientID","clientSecret","callbackURL","accessToken","refreshToken","get","authenticate","failureRedirect","req","res","render","onLoginScreen","logout","status","send","message","locals","includeGoogleMapsScript","cacheVersion"],"mappings":"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","file":"server.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1c3aa9ba61bb6ed67366","const CONSTANTS = {};\n\nCONSTANTS.CACHE_VERSION = '__CACHE__VERSION__';\n\nCONSTANTS.DB = {\n  MONGO_URI: process.env.MONGODB_URI,\n  SESSION_COLLECTION_NAME: 'GithubSessions'\n};\n\nCONSTANTS.EXPRESS = {\n  SESSION_NAME: process.env.EXPRESS_SESSION_NAME,\n  SESSION_SECRET: process.env.EXPRESS_SESSION_SECRET,\n};\n\nCONSTANTS.METHODS = {\n  GET: 'GET',\n  POST: 'POST',\n  PUT: 'PUT',\n  DEL: 'DEL'\n};\n\nCONSTANTS.ROUTES = {\n  API: {\n  },\n  HOME: '/',\n  LOGIN: '/login',\n  LOGOUT: '/logout',\n  PROFILE: '/profile',\n  GITHUB_PASSPORT_AUTH_PATH: '/auth/github',\n  GITHUB_CALLBACK_PATH: process.env.GITHUB_CALLBACK_PATH,\n  GITHUB_CALLBACK_URL: process.env.GITHUB_CALLBACK_URL,\n};\n\nCONSTANTS.SERVER = {\n  ENV: process.env.NODE_ENV,\n  ENV_PRODUCTION: 'production',\n  ENV_DEVELOPMENT: 'development',\n  PORT: process.env.PORT,\n  PUBLIC_FOLDER_NAME: 'public',\n  TRUST_PROXY: 'trust proxy'\n};\n\nCONSTANTS.GITHUB = {\n  API_URL: process.env.GITHUB_API_URL,\n  CLIENT_ID: process.env.GITHUB_CLIENT_ID,\n  CLIENT_SECRET: process.env.GITHUB_CLIENT_SECRET,\n  PASSPORT_AUTH_NAME: 'github',\n  ROUTES: {\n    ESTIMATE: '/v1.2/requests/estimate',\n    HISTORY: '/v1.2/history',\n    PROFILE: '/v1/me',\n    PRODUCTS: '/v1.2/products',\n    REQUESTS: '/v1.2/requests',\n    REQUESTS_CURRENT: '/v1/requests/current',\n    SANDBOX_REQUESTS: '/v1.2/sandbox/requests',\n  },\n  ROUTE_STATUS: {\n    ACCEPTED: 'accepted',\n    ARRIVING: 'arriving',\n    IN_PROGRESS: 'in_progress',\n    COMPLETED: 'completed'\n  },\n  SCOPE: {\n    PROFILE: 'profile'\n  }\n};\n\nCONSTANTS.VIEWS = {\n  PUG: 'pug',\n  HOME: 'home',\n  LOGIN: 'login',\n  PROFILE: 'profile',\n  VIEWS: 'views',\n  VIEW_ENGINE: 'view engine'\n};\n\nCONSTANTS.WEBPACK = {\n  HOT_MIDDLEWARE_CLIENT: 'webpack-hot-middleware/client?reload=true'\n};\n\nmodule.exports = CONSTANTS;\n\n\n\n// WEBPACK FOOTER //\n// ./server/config/constants.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 2\n// module chunks = 0","const { ROUTES } = require('../../config/constants');\n\nexport default function(request, response, next) {\n  if (request.isAuthenticated()) {\n    return next();\n  }\n  return response.redirect(ROUTES.LOGIN);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/policies/ensureAuthenticated.js","import express from 'express';\nimport passport from 'passport';\nimport bodyParser from 'body-parser';\nimport path from 'path';\nimport sourceMap from 'source-map-support';\n\nimport configWebpackDev from './config/webpack-dev';\nimport configModels from './models';\nimport configSessionsSecurity from './config/sessions-security';\nimport configPassportGithub from './config/passport-github';\nimport configRoutes from './routes';\nimport configViews from './config/views';\n\n\nsourceMap.install();\n\nconst { SERVER } = require('./config/constants');\n\nconst app = express();\n\nconfigWebpackDev(app);\n\nconfigModels(app);\n\nconfigSessionsSecurity(app, passport);\n\nconfigPassportGithub(app, passport);\n\nconfigViews(app);\n\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\n\napp.use(express.static(path.join(__dirname, SERVER.PUBLIC_FOLDER_NAME)));\n\nconfigRoutes(app);\n\napp.listen(Number(SERVER.PORT), () => {\n  console.log(`listening to port: ${SERVER.PORT}`);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"source-map-support\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"source-map-support\"\n// module id = 8\n// module chunks = 0","import path from 'path';\nimport { browserConfig } from '../../webpack.config.babel';\n\nconst { WEBPACK, SERVER, ROUTES } = require('./constants');\n\nexport default function(app) {\n  if (SERVER.ENV === SERVER.ENV_DEVELOPMENT) {\n    /* eslint-disable */\n    const webpackDevMiddleware = require('webpack-dev-middleware');\n    const webpack = require('webpack');\n    browserConfig.entry = [\n      path.join(__dirname, '..', 'app', 'index.js'),\n      path.join(__dirname, '..', 'app', 'styles.scss')\n    ];\n\n    const webpackDevOptions = {\n      contentBase: path.join(__dirname, '..', '..'),\n      watchContentBase: true,\n      inline: true,\n      publicPath: ROUTES.HOME,\n      historyApiFallback: true\n    };\n\n    browserConfig.watch = true;\n    browserConfig.entry.unshift(WEBPACK.HOT_MIDDLEWARE_CLIENT);\n    browserConfig.plugins.push(new webpack.HotModuleReplacementPlugin());\n\n    const webpackCompiler = webpack(browserConfig);\n\n    app.use(webpackDevMiddleware(webpackCompiler, webpackDevOptions));\n    app.use(require('webpack-hot-middleware')(webpackCompiler));\n    /* eslint-enable */\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/config/webpack-dev.js","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 11\n// module chunks = 0","import browserWebpack from './webpack.browser';\nimport serverWebpack from './webpack.server';\nimport webpackMerge from 'webpack-merge';\n\nconst webpackConfigArray = [\n  browserWebpack,\n  serverWebpack\n];\n\nconst baseConfig = {\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'babel-loader',\n        options: {\n          presets: [\n            'es2016'\n          ]\n        }\n      }\n    ]\n  },\n  devtool: 'sourcemap'\n};\n\nwebpackConfigArray.forEach((configObject, i) => {\n  webpackConfigArray[i] = webpackMerge.smart(configObject, baseConfig);\n});\n\nexport const browserConfig = webpackConfigArray[0];\n\nexport default webpackConfigArray;\n\n\n\n// WEBPACK FOOTER //\n// ./webpack.config.babel.js","import path from 'path';\nimport webpack from 'webpack';\nimport ExtractTextPlugin from 'extract-text-webpack-plugin';\n\nconst extractSass = new ExtractTextPlugin({\n  filename: 'styles.css'\n});\n\nconst plugins = [\n  extractSass\n];\n\nif (process.env.COMPRESS) {\n  plugins.push(new webpack.optimize.UglifyJsPlugin());\n}\n\nmodule.exports = {\n  entry: [\n    path.join(__dirname, 'app', 'index.js'),\n    path.join(__dirname, 'app', 'styles.scss')\n  ],\n  module: {\n    rules: [\n      {\n        test: /\\.scss$/,\n        use: extractSass.extract({\n          use: [\n            {\n              loader: 'css-loader'\n            },\n            {\n              loader: 'sass-loader'\n            }\n          ],\n          // use style-loader in development\n          fallback: 'style-loader'\n        })\n      },\n      {\n        test: /\\.js$/,\n        exclude: /(node_modules|bower_components)/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [ 'env' ]\n          }\n        }\n      }\n    ]\n  },\n  plugins: plugins,\n  resolve: {\n    extensions: [\n      '.js',\n      '.json',\n      '.scss'\n    ],\n  },\n  output: {\n    path: path.join(__dirname, 'server', 'public'),\n    filename: 'browser.js'\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./webpack.browser.js","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"extract-text-webpack-plugin\"\n// module id = 14\n// module chunks = 0","import nodeExternals from 'webpack-node-externals';\nimport { join } from 'path';\nimport webpack from 'webpack';\n\nmodule.exports = {\n  entry: './server/index.js',\n  target: 'node',\n  node: {\n    __dirname: false,\n    __filename: false,\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      __CACHE__VERSION__: new Date().getTime()\n    })\n  ],\n  resolve: {\n    extensions: [\n      '.js',\n      '.json',\n      '.scss'\n    ],\n  },\n  output: {\n    path: join(__dirname, 'server'),\n    filename: 'server.build.js'\n  },\n  externals: [ nodeExternals() ]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./webpack.server.js","module.exports = require(\"webpack-node-externals\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-node-externals\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"webpack-merge\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-merge\"\n// module id = 17\n// module chunks = 0","import userModel from './user';\nimport promise from 'bluebird';\nimport mongoose from 'mongoose';\n\nexport default function(app) {\n  app.mongoose = mongoose;\n  app.mongoose.Promise = promise;\n  app.mongoose.connect(process.env.MONGODB_URI, { useMongoClient: true });\n\n  app.models = {};\n  app.models.User = userModel(app);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/index.js","export default function(app) {\n  return app.mongoose.model('User', {\n    email: String,\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/user.js","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 21\n// module chunks = 0","import session from 'express-session';\nimport connectMongo from 'connect-mongo';\nimport helmet from 'helmet';\n\nimport { EXPRESS, SERVER } from './constants';\n\nconst MongoSessionStore = connectMongo(session);\n\nexport default function(app, passport) {\n  const sessionStore = new MongoSessionStore({\n    mongooseConnection: app.mongoose.connection\n  });\n\n  const expressSessionOptions = {\n    secret: EXPRESS.SESSION_SECRET,\n    name: EXPRESS.SESSION_NAME,\n    resave: false,\n    store: sessionStore,\n    saveUninitialized: true\n  };\n\n  if(SERVER.ENV === SERVER.ENV_PRODUCTION) {\n    const expiryDate = new Date(Date.now() + 24 * 60 * 60 * 1000);\n\n    app.set(SERVER.TRUST_PROXY, 1);\n    expressSessionOptions.cookie = {\n      secure: true,\n      expires: expiryDate\n    };\n  }\n\n  app.use(session(expressSessionOptions));\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  passport.serializeUser((user, done) => {\n    done(null, user);\n  });\n  passport.deserializeUser((user, done) => {\n    done(null, user);\n  });\n\n  app.use(helmet());\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/config/sessions-security.js","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"connect-mongo\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-mongo\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 25\n// module chunks = 0","import GithubStrategy from 'passport-github';\n\nconst { GITHUB, ROUTES } = require('./constants');\n\nexport default function(app, passport) {\n  passport.use(new GithubStrategy({\n    clientID: GITHUB.CLIENT_ID,\n    clientSecret: GITHUB.CLIENT_SECRET,\n    callbackURL: ROUTES.GITHUB_CALLBACK_URL,\n  }, (accessToken, refreshToken, user, done) => {\n    done(null, user);\n  }));\n\n  app.get(\n    ROUTES.GITHUB_PASSPORT_AUTH_PATH,\n    passport.authenticate(GITHUB.PASSPORT_AUTH_NAME)\n  );\n\n  // authentication callback redirects to /login if authentication failed or home if successful\n  app.get(ROUTES.GITHUB_CALLBACK_PATH,\n    passport.authenticate(GITHUB.PASSPORT_AUTH_NAME, {\n      failureRedirect: ROUTES.LOGIN\n    }), (req, res) => {\n      res.redirect(ROUTES.HOME);\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/config/passport-github.js","module.exports = require(\"passport-github\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-github\"\n// module id = 27\n// module chunks = 0","import login from './login';\nimport logout from './logout';\nimport home from './home';\nimport profile from './profile';\nimport api from './api';\nimport notFound from './404';\n\nexport default function(app) {\n  login(app);\n  logout(app);\n  home(app);\n  profile(app);\n\n  // set up api for ajax calls\n  api(app);\n\n  // add 404 fallback for all routes\n  notFound(app);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/index.js","const { ROUTES, VIEWS } = require('../config/constants');\n\nexport default function(app) {\n  app.get(ROUTES.LOGIN, (request, response) => {\n    response.render(VIEWS.LOGIN, { onLoginScreen: true });\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/login.js","const { ROUTES } = require('../config/constants');\n\nexport default function(app) {\n  app.get(ROUTES.LOGOUT, (request, response) => {\n    request.logout();\n    response.redirect(ROUTES.LOGIN);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/logout.js","import ensureAuthenticated from './policies/ensureAuthenticated';\n\nconst { ROUTES, VIEWS } = require('../config/constants');\n\nexport default function(app) {\n  app.get(ROUTES.HOME, ensureAuthenticated, (request, response) => {\n    response.render(VIEWS.HOME);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/home.js","import ensureAuthenticated from './policies/ensureAuthenticated';\nconst { VIEWS, ROUTES } = require('../config/constants');\n\nexport default function(app) {\n  app.get(ROUTES.PROFILE, ensureAuthenticated, (req, res) => {\n    return res.render(VIEWS.PROFILE);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/profile.js","export default function(app) {\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/index.js","export default function(app) {\n  app.use('/api/*', (req, res) => {\n    return res.status(404).send({\n      message: 'route not found'\n    });\n  });\n\n  app.use('/*', (req, res) => {\n    return res.status(404).render('404');\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/404.js","import path from 'path';\n\nimport { VIEWS, CACHE_VERSION } from './constants';\n\nexport default function(app) {\n  app.set(VIEWS.VIEWS, path.join(__dirname, 'views'));\n  app.set(VIEWS.VIEW_ENGINE, VIEWS.PUG);\n\n  app.use((req, res, next) => {\n    // helps make sure navbar does not display on login screen\n    res.locals.onLoginScreen = false;\n    // helps make sure google maps script does not load on every page\n    res.locals.includeGoogleMapsScript = false;\n    // add variable for cache busting\n    res.locals.cacheVersion = CACHE_VERSION;\n    next();\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/config/views.js"],"sourceRoot":""}